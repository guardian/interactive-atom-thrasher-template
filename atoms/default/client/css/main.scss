@import "_mq";
@import "_fonts";
@import "_palette";
@import "_app-fonts";
@import "_mixins";

// Uncomment for embeds
//@import "embed";
// Uncomment for full screen (including immersive article main media)
//@import "fullscreen";

// Default breakpoints from Frontend
// Use mc() in place of mq() so your thrashers don't get broken
$mq-breakpoints: (mobile: 320px,
    mobileMedium: 375px,
    mobileLandscape: 480px,
    phablet: 660px,
    tablet: 740px,
    desktop: 980px,
    leftCol: 1140px,
    wide: 1300px,
);

// update 'class-name' with yours
$containerName: innermost;
// colours pulled from shared/css/_palette.sass
$backgroundColor: #121212;
$textColor: white;
$buttonColor: #f6f6f6;
$buttonHoverColor: #999999;

// this targets the container your thrasher is put inside on Fronts
#innermost {
    width: 100%;
    position: relative;
    padding: 0 !important;
    overflow: hidden;
    background-color: #767676;

    .fc-container__inner,
    .fc-slice,
    .facia-snap {
        overflow: hidden;
    }

    .facia-snap {
        padding: 0;
    }
}

.#{$containerName} {
    width: 100%;
    height: 300px;
    background-color: $backgroundColor;

    @include mc(mobileLandscape) {
        height: 250px;
    }

    @include mc(phablet) {
        height: 200px;
    }

    @include mq(leftCol) {
        height: 160px;
    }

    &__wrapper {
        display: flex;
        padding-left: 10px;

        @include mc(phablet) {
            padding-left: 20px;
        }
    }

    &__headline {
        color: $textColor;
        font-family: "Guardian Headline Full",
            "Guardian Egyptian Web", Georgia, serif;
        font-size: 38px;
        line-height: 115%;
        width: 76%;

        @include mc(tablet) {
            font-size: 50px;
        }
    }

    &__subheadline {
        color: white;
        font-family: "Guardian Headline Full",
            "Guardian Egyptian Web",
            Georgia,
            serif;
        font-weight: 400;
        font-size: 20px;
        line-height: 115%;
        width: 80%;
        margin-bottom: -4px;

        @include mq(tablet) {
            width: 100%;
        }

        @include mq(desktop) {
            margin-bottom: 4px;
        }
    }


    &__right {
        position: absolute;
        top: 90px;
        right: 11px;
        z-index: 10;

        @include mq(mobileMedium) {
            top: 99px;
            right: 18px;
            z-index: 10;
            transform: scale(1.1);
        }

        @include mq(mobileLandscape) {
            transform: scale(1);
            top: 60px;
        }

        @include mq(phablet) {
            right: 112px;
            top: 10px;
        }

        @include mc(desktop) {
            top: 28px;
            right: 220px;
            transform: scale(1.2);
        }

        @include mc(leftCol) {
            transform: scale(1);
            top: 8px;
            right: 220px;
        }

        &__pink {
            svg {
                width: 100%;
                height: 100%;
            }

            .pink-window-bg {
                fill: #767676;
                animation: pink-lights-on 11s infinite;
                animation-delay: 5s;
            }

            .pink-face {
                // fill: #121212;
                // animation: pink-face-on 11s infinite;
                animation-delay: 3s;
            }

            &__left {
                position: relative;
                top: -67px;
                right: -29px;
            }
        }

        &__green {
            box-shadow: 0 0 0 #000;
            transform: translate3d(0, 0, 0);
            position: absolute;
            right: 100px;
            top: 75px;
            width: 80px;
            height: auto;

            .green-square-head {
                // animation: nodhead 5s infinite;
                // animation: green-face-on 9s infinite;
            }

            .green-window-bg {
                animation: green-light-on 9s infinite;
            }

            svg {
                width: 100%;
                height: 100%;
            }

            @include mq(desktop) {
                // animation: greenwindow 5s infinite;
                right: 102px;
                top: 49px;
                width: 110px;
            }
        }

        &__yellow {
            display: none;

            @include mq(desktop) {
                // animation: yellowwindow 5s infinite;
                display: block;
                position: absolute;
                top: 2px;
                left: 100px;
            }

            .yellow-window-background {
                fill: #767676;
                animation: yellow-lights-on 15s infinite;
                // fill: rgb(244, 238, 164);
            }

            .yellow-window-face {
                fill: #121212;
                // animation: yellow-face-on 15s infinite;
            }
        }
    }

    &__component-button {
        margin-top: 12px;
        @include component-button($bgColor: $buttonColor,
            $color: #121212,
            $hoverBgColor: #dcdcdc);
    }

    &__vodafonelogo {
        text-align: left;
        bottom: 38px;
        left: 8px;
        position: absolute;

        z-index: 20;

        .makered {
            fill: #E60000;
        }

        @include mq(phablet) {
            text-align: right;
            bottom: 8px;
            left: unset;
            right: 14px;
        }

        &__text {
            font-size: 0.75rem;
            line-height: 1rem;
            font-family: "Guardian Text Sans Web", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
            color: white;
            margin-bottom: 4px;

            @include mq(phablet) {
                margin-bottom: 0;
            }
        }
    }

    &__roundel {
        @include roundel-top-right;
        right: 4px;
        height: 38px;
        z-index: 20;

        @include mc(mobileLandscape) {
            right: 8px;
        }
    }

    &__links {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        width: 90%;
        position: absolute;
        bottom: 8px;

        @include mc(mobileMedium) {
            width: auto;
        }

        @include mc(desktop) {
            bottom: 6px;
            left: 22px;
        }

        @include mq(leftCol) {
            bottom: 25px;
            left: 200px;
        }

        .pod-link {
            height: 14px;
            width: auto;
            padding-right: 8px;
            margin-top: 8px;

            @include mc(phablet) {
                height: 22px;
                padding-right: 12px;
            }

            &__smaller {
                height: 9px;
                margin-bottom: -1px;
                padding-right: 0;

                @include mc(phablet) {
                    height: 18px;
                    margin-bottom: -9px;
                }
            }
        }
    }
}



@keyframes yellow-lights-on {
    4% {
        fill: #767676;
    }

    5% {
        fill: rgb(244, 238, 164);
    }

    79% {
        fill: rgb(244, 238, 164);
    }

    80% {
        fill: #767676;
    }
}

@keyframes yellow-face-on {
    0% {
        opacity: 0;
    }

    5% {
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    70% {
        opacity: 1;
    }

    75% {
        opacity: 0;
    }

    100% {
        opacity: 0;
    }
}

@keyframes pink-lights-on {
    0% {
        fill: #767676;
    }

    4% {
        fill: #767676;
    }

    5% {
        fill: rgb(232, 146, 177);
    }

    79% {
        fill: rgb(232, 146, 177);
    }

    80% {
        fill: #767676;
    }

    100% {
        fill: #767676;
    }
}

@keyframes pink-face-on {
    0% {
        opacity: 0;
    }

    5% {
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    70% {
        opacity: 1;
    }

    75% {
        opacity: 0;
    }

    100% {
        opacity: 0;
    }
}

@keyframes green-light-on {
    0% {
        fill: #767676;
    }

    4% {
        fill: #767676;
    }

    5% {
        fill: rgb(35, 193, 163);
    }

    69% {
        fill: rgb(35, 193, 163);
    }

    70% {
        fill: #767676;
    }

    100% {
        fill: #767676;
    }
}

@keyframes green-face-on {
    0% {
        opacity: 0;
    }

    5% {
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    70% {
        opacity: 1;
    }

    75% {
        opacity: 0;
    }

    100% {
        opacity: 0;
    }
}

@keyframes green-face-on {
    0% {
        fill: #767676;
    }

    4% {
        fill: #767676;
    }

    6% {
        fill: #121212;
    }

    78% {
        fill: #121212;
    }

    80% {
        fill: #767676;
    }

    100% {
        fill: #767676;
    }
}

@keyframes nodhead {
    1% {
        transform: translateY(-5px);
        margin-left: 0;
    }

    25% {
        transform: translateY(5px);
        margin-left: -50px;
    }

    50% {
        transform: translateY(5px);
        margin-left: -50px;
    }

    90% {
        transform: translateY(-5px);
        margin-left: 0;
    }
}

@keyframes leftright {
    1% {
        transform: translateX(0);
    }

    25% {
        transform: translateX(-50px);
    }

    50% {
        transform: translateX(-50px);
    }

    90% {
        transform: translateX(0);
    }
}

@keyframes yellowwindow {
    0% {
        margin-top: 0;
    }

    50% {
        margin-top: 41px;
    }

    // 75% {
    //     margin-top: 41px;
    // }

    100% {
        margin-top: 0;
    }
}

@keyframes greenwindow {
    0% {
        margin-top: 0;
    }

    50% {
        margin-top: -41px;
    }

    // 75% {
    //     margin-top: 41px;
    // }

    100% {
        margin-top: 0;
    }
}

// this removes margins from Android / iOS view
.interactive-atom {
    margin: 0;
    overflow: hidden;
}

// iOS and Android specific styles
.#{$containerName} {

    .android &,
    .ios & {
        overflow: hidden;
        margin: 0;
        padding: 0;

        &__headline {
            margin-top: 2px;
            margin-bottom: 0;
        }

        &__subheadline {
            margin-top: 0;
            margin-bottom: 8px;
        }

        &__component-button {
            span {
                letter-spacing: unset;
            }
        }

        &__right__pink {
            transform-origin: right;
            position: absolute;
            top: 5px;
            right: -50px;
            width: 200px;
            height: 130px;
        }

        &__right__green {
            position: absolute;
            right: 100px;
            top: 75px;
            width: 80px;
            height: 60px;
            transform-origin: center;
        }
    }
}









// @media (prefers-color-scheme: dark) {
//     .#{$containerName} {
//         .ios & {
//             background-color: #005689;
//         }
//     }
// }